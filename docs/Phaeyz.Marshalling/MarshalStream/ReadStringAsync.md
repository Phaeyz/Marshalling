# MarshalStream.ReadStringAsync method (1 of 2)

Initializes a new instance of the [`MarshalStreamReadStringResult`](../MarshalStreamReadStringResult.md) class.

```csharp
public ValueTask<MarshalStreamReadStringResult> ReadStringAsync(Decoder decoder, 
    int maxBytesToRead, MarshalStreamNullTerminatorBehavior nullTerminatorBehavior, 
    CancellationToken cancellationToken = default)
```

| parameter | description |
| --- | --- |
| decoder | The Decoder object to use for decoding the bytes of the stream into characters. |
| maxBytesToRead | The maximum number of bytes to read from the stream. If -1, then read until the end of the stream. |
| nullTerminatorBehavior | Defines the behavior when null terminators are encountered. |
| cancellationToken | A cancellation token which may be used to cancel the operation. |

## Return Value

A task yielding a [`MarshalStreamReadStringResult`](../MarshalStreamReadStringResult.md) object.

## Exceptions

| exception | condition |
| --- | --- |
| ArgumentOutOfRangeException | The maximum number of bytes to read is less than zero. |
| DecoderFallbackException | The *decoder*'s Fallback property (or the owning Encoding's DecoderFallback property) is set to DecoderExceptionFallback and a fallback occurred. When this happens, the stream's new position is undefined. |
| IOException | An I/O error occurred. |
| NotSupportedException | The stream is not readable. |
| ObjectDisposedException | The stream is disposed. |
| OperationCanceledException | The cancellation token was canceled. |

## See Also

* struct [MarshalStreamReadStringResult](../MarshalStreamReadStringResult.md)
* enum [MarshalStreamNullTerminatorBehavior](../MarshalStreamNullTerminatorBehavior.md)
* class [MarshalStream](../MarshalStream.md)
* namespace [Phaeyz.Marshalling](../../Phaeyz.Marshalling.md)

---

# MarshalStream.ReadStringAsync method (2 of 2)

Initializes a new instance of the StringReadOperation class.

```csharp
public ValueTask<MarshalStreamReadStringResult> ReadStringAsync(Encoding encoding, 
    int maxBytesToRead, MarshalStreamNullTerminatorBehavior nullTerminatorBehavior, 
    CancellationToken cancellationToken = default)
```

| parameter | description |
| --- | --- |
| encoding | The Encoding object to use for decoding the bytes of the stream into characters. |
| maxBytesToRead | The maximum number of bytes to read from the stream. If -1, then read until the end of the stream. |
| nullTerminatorBehavior | Defines the behavior when null terminators are encountered. |
| cancellationToken | A cancellation token which may be used to cancel the operation. |

## Return Value

A task yielding a [`MarshalStreamReadStringResult`](../MarshalStreamReadStringResult.md) object.

## Exceptions

| exception | condition |
| --- | --- |
| ArgumentOutOfRangeException | The maximum number of bytes to read is less than zero. |
| DecoderFallbackException | The *encoding*'s DecoderFallback property is set to DecoderExceptionFallback and a fallback occurred. When this happens, the stream's new position is undefined. |
| IOException | An I/O error occurred. |
| NotSupportedException | The stream is not readable. |
| ObjectDisposedException | The stream is disposed. |
| OperationCanceledException | The cancellation token was canceled. |

## See Also

* struct [MarshalStreamReadStringResult](../MarshalStreamReadStringResult.md)
* enum [MarshalStreamNullTerminatorBehavior](../MarshalStreamNullTerminatorBehavior.md)
* class [MarshalStream](../MarshalStream.md)
* namespace [Phaeyz.Marshalling](../../Phaeyz.Marshalling.md)

<!-- DO NOT EDIT: generated by xmldocmd for Phaeyz.Marshalling.dll -->
