# MarshalStream.ReadAsync method (1 of 2)

Reads a sequence of bytes from the current stream and advances the position within the stream by the number of bytes read.

```csharp
public override ValueTask<int> ReadAsync(Memory<byte> buffer, 
    CancellationToken cancellationToken = default)
```

| parameter | description |
| --- | --- |
| buffer | The buffer which receives the bytes to read. |
| cancellationToken | A cancellation token which may be used to cancel the operation. |

## Return Value

A task which yields the number of bytes read into the buffer. This might be less than the number of bytes requested. If the return value is zero, the end of the stream has been reached.

## Exceptions

| exception | condition |
| --- | --- |
| IOException | An I/O error occurred. |
| NotSupportedException | The stream is not readable. |
| ObjectDisposedException | The stream is disposed. |
| OperationCanceledException | The cancellation token was canceled. |

## See Also

* class [MarshalStream](../MarshalStream.md)
* namespace [Phaeyz.Marshalling](../../Phaeyz.Marshalling.md)

---

# MarshalStream.ReadAsync method (2 of 2)

Reads a sequence of bytes from the current stream and advances the position within the stream by the number of bytes read.

```csharp
public override Task<int> ReadAsync(byte[] buffer, int offset, int count, 
    CancellationToken cancellationToken)
```

| parameter | description |
| --- | --- |
| buffer | The buffer which receives the bytes to read. |
| offset | The starting offset within *buffer* which may receive to bytes to read. |
| count | The number of bytes after *offset* within *buffer* may receive the bytes to read. |
| cancellationToken | A cancellation token which may be used to cancel the operation. |

## Return Value

A task which yields the number of bytes read into *buffer*. This might be less than the number of bytes requested. If the return value is zero, the end of the stream has been reached.

## Exceptions

| exception | condition |
| --- | --- |
| ArgumentNullException | *buffer* was null. |
| ArgumentOutOfRangeException | *offset* was outside the bounds of *buffer*, or *count* was negative, or the range specified by the combination of *offset* and *count* exceed the length of *buffer*. |
| IOException | An I/O error occurred. |
| NotSupportedException | The stream is not readable. |
| ObjectDisposedException | The stream is disposed. |
| OperationCanceledException | The cancellation token was canceled. |

## See Also

* class [MarshalStream](../MarshalStream.md)
* namespace [Phaeyz.Marshalling](../../Phaeyz.Marshalling.md)

<!-- DO NOT EDIT: generated by xmldocmd for Phaeyz.Marshalling.dll -->
