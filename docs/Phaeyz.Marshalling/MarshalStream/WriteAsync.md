# MarshalStream.WriteAsync method (1 of 2)

Writes a sequence of bytes to the current stream and advances the current position within the stream by the number of bytes written.

```csharp
public override ValueTask WriteAsync(ReadOnlyMemory<byte> buffer, 
    CancellationToken cancellationToken = default)
```

| parameter | description |
| --- | --- |
| buffer | A buffer containing the bytes to write. |
| cancellationToken | A cancellation token which may be used to cancel the operation. |

## Return Value

A task which is completed when the operation is complete.

## Exceptions

| exception | condition |
| --- | --- |
| IOException | An I/O error occurred. |
| NotSupportedException | The current stream is not writable, or the read buffer cannot be flushed because the current stream is not seekable. |
| ObjectDisposedException | The stream is disposed. |
| OperationCanceledException | The cancellation token was canceled. |

## See Also

* class [MarshalStream](../MarshalStream.md)
* namespace [Phaeyz.Marshalling](../../Phaeyz.Marshalling.md)

---

# MarshalStream.WriteAsync method (2 of 2)

Writes a sequence of bytes to the current stream and advances the current position within the stream by the number of bytes written.

```csharp
public override Task WriteAsync(byte[] buffer, int offset, int count, 
    CancellationToken cancellationToken)
```

| parameter | description |
| --- | --- |
| buffer | A buffer containing the bytes to write. |
| offset | The starting offset within *buffer* containing the bytes to write. |
| count | The count of bytes to write within *buffer* starting at *offset*. |
| cancellationToken | A cancellation token which may be used to cancel the operation. |

## Return Value

A task which is completed when the operation is complete.

## Exceptions

| exception | condition |
| --- | --- |
| ArgumentNullException | *buffer* was null. |
| ArgumentOutOfRangeException | *offset* was outside the bounds of *buffer*, or *count* was negative, or the range specified by the combination of *offset* and *count* exceed the length of *buffer*. |
| IOException | An I/O error occurred. |
| NotSupportedException | The current stream is not writable, or the read buffer cannot be flushed because the current stream is not seekable. |
| ObjectDisposedException | The stream is disposed. |
| OperationCanceledException | The cancellation token was canceled. |

## See Also

* class [MarshalStream](../MarshalStream.md)
* namespace [Phaeyz.Marshalling](../../Phaeyz.Marshalling.md)

<!-- DO NOT EDIT: generated by xmldocmd for Phaeyz.Marshalling.dll -->
